<main class="bg-white">
  <div class="movie-catalog__container">
    <header class="movie-catalog__header">
      <h2 class="movie-catalog__title">Movie catalog</h2>
      <app-search-input (searchChanged)="onSearch($event)"/>
    </header>
    <section aria-labelledby="movies-heading">
      <h2 id="movies-heading" class="sr-only">Movies</h2>

      @if (vm$ | async; as vm) {
        @switch (vm.state) {
          @case ('loading') {
            <app-loader label="Loading moviesâ€¦" />
          }
          @case ('error') {
            <app-error-state
              [title]="'Failed to load movies'"
              [message]="'Something went wrong while fetching the movie catalog. Please try again.'" />
          }
          @case ('data') {
            <app-movies-list
              [movies]="vm.movies" />
          }
        }
      }
    </section>
  </div>
</main>
