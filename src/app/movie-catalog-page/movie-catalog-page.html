<main class="bg-white">
  <div class="mx-auto max-w-7xl px-4 py-12 sm:px-6 sm:py-8 lg:px-8">
    <header class="flex items-center justify-between">
      <h2 class="text-2xl font-bold tracking-tight text-gray-900">Movie catalog</h2>
      <app-search-input (searchChanged)="onSearch($event)"/>
    </header>
    <section aria-labelledby="movies-heading">
      <h2 id="movies-heading" class="sr-only">Movies</h2>
      @if (vm$ | async; as vm) {
        @switch (vm.state) {
          @case ('loading') {
            <app-loader label="Loading moviesâ€¦" />
          }
          @case ('error') {
            <app-error-state
              [title]="'Failed to load movies'"
              [message]="'Something went wrong while fetching the movie catalog. Please try again.'" />
          }
          @case ('data') {
            <app-movies-list
              [movies]="vm.movies" />
          }
        }
      }
    </section>
  </div>
</main>
